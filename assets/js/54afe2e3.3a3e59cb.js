"use strict";(self.webpackChunkdevdocs=self.webpackChunkdevdocs||[]).push([[6452],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>m});var n=a(7294);function p(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){p(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function r(e,t){if(null==e)return{};var a,n,p=function(e,t){if(null==e)return{};var a,n,p={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(p[a]=e[a]);return p}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(p[a]=e[a])}return p}var l=n.createContext({}),s=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},c=function(e){var t=s(e.components);return n.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,p=e.mdxType,o=e.originalType,l=e.parentName,c=r(e,["components","mdxType","originalType","parentName"]),u=s(a),m=p,h=u["".concat(l,".").concat(m)]||u[m]||d[m]||o;return a?n.createElement(h,i(i({ref:t},c),{},{components:a})):n.createElement(h,i({ref:t},c))}));function m(e,t){var a=arguments,p=t&&t.mdxType;if("string"==typeof e||p){var o=a.length,i=new Array(o);i[0]=u;var r={};for(var l in t)hasOwnProperty.call(t,l)&&(r[l]=t[l]);r.originalType=e,r.mdxType="string"==typeof e?e:p,i[1]=r;for(var s=2;s<o;s++)i[s]=a[s];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},2786:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>r,toc:()=>s});var n=a(7462),p=(a(7294),a(3905));const o={id:"basics",title:"Apps",sidebar_label:"Basics",slug:"/apps"},i=void 0,r={unversionedId:"guides/apps/basics",id:"guides/apps/basics",title:"Apps",description:"What is an App?",source:"@site/docs/guides/apps/010_apps-intro.md",sourceDirName:"guides/apps",slug:"/apps",permalink:"/docs/apps",draft:!1,editUrl:"https://github.com/pipeforce/pipeforce.github.io/edit/master/docs/guides/apps/010_apps-intro.md",tags:[],version:"current",sidebarPosition:10,frontMatter:{id:"basics",title:"Apps",sidebar_label:"Basics",slug:"/apps"},sidebar:"tutorialSidebar",previous:{title:"JSON Schema",permalink:"/docs/guides/propertystore/schema-and-objects"},next:{title:"App Testing",permalink:"/docs/guides/apps/app_testing"}},l={},s=[{value:"What is an App?",id:"what-is-an-app",level:2},{value:"App structure",id:"app-structure",level:2},{value:"Qualified App naming",id:"qualified-app-naming",level:3},{value:"App folders",id:"app-folders",level:3},{value:"<code>form</code>",id:"form",level:3},{value:"<code>list</code>",id:"list",level:3},{value:"<code>object</code>",id:"object",level:3},{value:"<code>schema</code>",id:"schema",level:4},{value:"<code>instance</code>",id:"instance",level:4},{value:"<code>pipeline</code>",id:"pipeline",level:3},{value:"<code>script</code>",id:"script",level:3},{value:"<code>test</code>",id:"test",level:3},{value:"<code>workflow</code>",id:"workflow",level:3},{value:"App development",id:"app-development",level:2},{value:"Report an Issue",id:"report-an-issue",level:2}],c={toc:s};function d(e){let{components:t,...o}=e;return(0,p.kt)("wrapper",(0,n.Z)({},c,o,{components:t,mdxType:"MDXLayout"}),(0,p.kt)("h2",{id:"what-is-an-app"},"What is an App?"),(0,p.kt)("p",null,"An app in PIPEFORCE is like an app for mobile phones. Such an app groups together resources like scripts, templates, configurations and others to solve a certain business task. Any pipeline, form or workflow etc. is part of exactly one app. "),(0,p.kt)("p",null,"An app can be shared with others on the marketplace."),(0,p.kt)("p",null,"Also see ",(0,p.kt)("a",{parentName:"p",href:"../docs/tutorials/create-app"},"this tutorial")," to learn how to create an app in PIPEFORCE."),(0,p.kt)("p",null,"For each app, certain access rules can be specified. Apps can be installed, uninstalled, exported and imported. Furthermore, it is also possible to use staging and versioning for apps. They can be developed online using the workbench or offline using source code files and the ",(0,p.kt)("a",{parentName:"p",href:"../../guides/cli"},"CLI"),". You can think of apps also like \u201cplug-ins\u201d for PIPEFORCE."),(0,p.kt)("h2",{id:"app-structure"},"App structure"),(0,p.kt)("p",null,"Typically, all properties (resources) of an app reside in the property store and having a property path with a prefix like this: "),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre"},"global/app/<NAME>\n")),(0,p.kt)("p",null,"The path always starts with prefix ",(0,p.kt)("inlineCode",{parentName:"p"},"global/app"),", followed by the name of the app ",(0,p.kt)("inlineCode",{parentName:"p"},"<NAME>"),", wheras ",(0,p.kt)("inlineCode",{parentName:"p"},"<NAME>")," must be a fully qualified, unique name."),(0,p.kt)("h3",{id:"qualified-app-naming"},"Qualified App naming"),(0,p.kt)("p",null,"In order to avoid a naming clash with other apps from other users which could probably have the same naming as your app, as best practise, you should give the app always a name which follows the reversed domain name package conventions from the ",(0,p.kt)("a",{parentName:"p",href:"https://docs.oracle.com/javase/tutorial/java/package/namingpkgs.html"},"Java package specification"),":"),(0,p.kt)("ol",null,(0,p.kt)("li",{parentName:"ol"},"The app name is written in lower case and may not contain any space or special character."),(0,p.kt)("li",{parentName:"ol"},"Use the reversed internet domain name of your company, project or organisation to begin the app name. For example: ",(0,p.kt)("inlineCode",{parentName:"li"},"com.logabit.myapp")," or ",(0,p.kt)("inlineCode",{parentName:"li"},"org.myproject.myapp"),"."),(0,p.kt)("li",{parentName:"ol"},"Built-in apps from PIPEFORCE always start with prefix ",(0,p.kt)("inlineCode",{parentName:"li"},"io.pipeforce.")," for example: ",(0,p.kt)("inlineCode",{parentName:"li"},"io.pipeforce.common"),". "),(0,p.kt)("li",{parentName:"ol"},"Note: The internet domain names must be valid ones if you want your apps to become trusted in the marketplace.")),(0,p.kt)("p",null,"Here is an example of a property path to a resource inside an app with fully qualified name:"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre"},"global/app/com.logabit.myapp/data/helloworld\n")),(0,p.kt)("h3",{id:"app-folders"},"App folders"),(0,p.kt)("p",null,'Inside of an app path, there is a certain "folder" structure at app level which defines the main resource types of an app. The typical folder structure looks like this (the folders could vary, depending on your setup):'),(0,p.kt)("p",null,(0,p.kt)("img",{src:a(2636).Z,width:"123",height:"138"})),(0,p.kt)("h3",{id:"form"},(0,p.kt)("inlineCode",{parentName:"h3"},"form")),(0,p.kt)("p",null,"This folder contains all form configuration properties for any form of the app, whereas the name of the property is the name of the form. For example:"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre"},"global/app/myApp/form/createUser\nglobal/app/myApp/form/deleteUser\n")),(0,p.kt)("h3",{id:"list"},(0,p.kt)("inlineCode",{parentName:"h3"},"list")),(0,p.kt)("p",null,"This folder contains all list configuration properties for any list of the app, whereas the name of the property is the name of the list. For example:"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre"},"global/app/myApp/list/users\nglobal/app/myApp/list/employees\n")),(0,p.kt)("h3",{id:"object"},(0,p.kt)("inlineCode",{parentName:"h3"},"object")),(0,p.kt)("p",null,"This folder contains any application model (schema) and its instances (if there are any)."),(0,p.kt)("h4",{id:"schema"},(0,p.kt)("inlineCode",{parentName:"h4"},"schema")),(0,p.kt)("p",null,"The schema of an object is stored in a property having this path:"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre"},"global/app/myApp/object/<NAME>/<VERSION>/schema\n")),(0,p.kt)("p",null,"Whereas ",(0,p.kt)("inlineCode",{parentName:"p"},"<NAME>")," is the name of the object."),(0,p.kt)("p",null,(0,p.kt)("inlineCode",{parentName:"p"},"<VERSION>")," is the version of the object schema."),(0,p.kt)("p",null,"For example:"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre"},"object/person/v1/schema\n")),(0,p.kt)("p",null,"The schema property typically contains as value a JSON schema, which describes this object. For the person object, the schema could, for example, look like this:"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "type": "object",\n\n  "properties": {\n    "firstName": {\n      "type": "string"\n    },\n    "lastName": {\n      "type": "string"\n    },\n    "age": {\n      "type": "number"\n    },\n    "gender": {\n      "type": "string",\n      "enum": ["male", "female", "neutral"]\n    }\n  }\n}\n')),(0,p.kt)("p",null,"See the JSON schema specification for a description how to define JSON schema documents: ",(0,p.kt)("a",{parentName:"p",href:"https://json-schema.org/"},"https://json-schema.org/")),(0,p.kt)("h4",{id:"instance"},(0,p.kt)("inlineCode",{parentName:"h4"},"instance")),(0,p.kt)("p",null,"In case there are object instances based on a schema, they should be typically stored inside this path structure:"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre"},"global/app/myApp/object/<NAME>/<VERSION>/instance/<UUID>\n")),(0,p.kt)("p",null,"Whereas ",(0,p.kt)("inlineCode",{parentName:"p"},"<NAME>")," is the name of the object."),(0,p.kt)("p",null,(0,p.kt)("inlineCode",{parentName:"p"},"<VERSION>")," is the version of the object schema."),(0,p.kt)("p",null,(0,p.kt)("inlineCode",{parentName:"p"},"<UUID>")," is the unique id of a single object."),(0,p.kt)("p",null,"For example:"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre"},"global/app/myApp/object/person/v1/instance/fa471958-fdb7-4bf6-a0a3-c5e8c782893e\n")),(0,p.kt)("p",null,"Each instance property will contain as value the data of the object instance which matches the object schema, for example:"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "firstName": "Homer",\n  "lastName": "Simpson",\n  "age": 48,\n  "gender": "male"\n}\n')),(0,p.kt)("h3",{id:"pipeline"},(0,p.kt)("inlineCode",{parentName:"h3"},"pipeline")),(0,p.kt)("p",null,"This folder contains all pipeline configurations for the given app. A pipeline can be seen as the business logic part of an application."),(0,p.kt)("p",null,"Find more about pipelines ",(0,p.kt)("a",{parentName:"p",href:"../guides/commands_pipeline"},"here")),(0,p.kt)("p",null,"Each property name corresponds with the name of the pipeline and contains as value the pipeline configuration. For example:"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre"},"global/app/myApp/pipeline/informHR\nglobal/app/myApp/pipeline/addToSAP\nglobal/app/myApp/pipeline/addToActiveDirectory\n")),(0,p.kt)("p",null,"Such a pipeline configuration could look like this:"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-yaml"},'pipeline:\n  - mail.send:\n      to: hr@company.de\n      subject: "A new employee was addded!"\n')),(0,p.kt)("h3",{id:"script"},(0,p.kt)("inlineCode",{parentName:"h3"},"script")),(0,p.kt)("p",null,"Inside of the optional script folder, scripts can be placed which can contain more complex business logic if required. By default, such scripts are written in JavaScript. Optionally also Python or Groovy are available (ask ",(0,p.kt)("a",{parentName:"p",href:"mailto:support@pipeforce.io"},"support@pipeforce.io")," if required). For example:"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre"},"global/app/myApp/script/helloworld\n")),(0,p.kt)("p",null,"Such a script could look like this example:"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-jsx"},'function command() {\n\n    pi.message.headers["foo"] = "bar";\n    pi.message.body = "HELLO WORLD IN THE BODY";\n\n    var timestamp = pi.util.timestamp();\n    pi.log.debug("Command script executed at: " + timestamp);\n}\n')),(0,p.kt)("p",null,"You can call such a script from a pipeline, like this example shows:"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-yaml"},'pipeline:\n  - script.run:\n      path: "global/app/myApp/script/helloworld"\n')),(0,p.kt)("h3",{id:"test"},(0,p.kt)("inlineCode",{parentName:"h3"},"test")),(0,p.kt)("p",null,"This folder typically contains pipelines for tests only. Whenever necessary, PIPEFORCE automatically executes the test pipelines inside this folder to make sure the app is working as expected. Therefore you have to make sure that these tests can be executed at any time and are fully reentrant (once a test has been finished it can be executed again as often as necessary)."),(0,p.kt)("p",null,"For example:"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre"},"global/app/myApp/test/createUserTest\n")),(0,p.kt)("p",null,"The property contains the test pipeline as value. Such a test pipeline could look like this:"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-yaml"},"pipeline:\n  - test:\n      assertTrue(false)\n")),(0,p.kt)("h3",{id:"workflow"},(0,p.kt)("inlineCode",{parentName:"h3"},"workflow")),(0,p.kt)("p",null,"This folder contains any BPMN workflow files defining a business process."),(0,p.kt)("p",null,"For example:"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre"},"global/app/myApp/workflow/approveNewEmployee\n")),(0,p.kt)("h2",{id:"app-development"},"App development"),(0,p.kt)("p",null,"In its simple case you can manage all properties of an app in the property store with the ",(0,p.kt)("inlineCode",{parentName:"p"},"property.*")," commands and the CLI using ",(0,p.kt)("inlineCode",{parentName:"p"},"pi pipeline")," or using the online workbench."),(0,p.kt)("p",null,"But if you want to develop complex apps with forms, pipelines or workflows inside, we recommend you to use a local development & customization workspace. This workspace contains the properties of such an app stored as files inside a local folder. Any file created inside this folder can then easily be uploaded to the property store with a single command line call using the CLI. For example:"),(0,p.kt)("pre",null,(0,p.kt)("code",{parentName:"pre",className:"language-bash"},"pi publish\n")),(0,p.kt)("p",null,"This CLI command scans your local folder and uploads only those resources which have been changed since the last upload or have been created since then. See here how to setup the CLI and how to create a local worskspace: ",(0,p.kt)("a",{parentName:"p",href:"cli"},"Local Low-Code Workspace")),(0,p.kt)("h2",{id:"report-an-issue"},"Report an Issue"),(0,p.kt)("admonition",{title:"Your help is needed!",type:"tip"},(0,p.kt)("p",{parentName:"admonition"},"In case you're missing something on this page, you found an error or you have an idea for improvement, please ",(0,p.kt)("a",{parentName:"p",href:"https://github.com/pipeforce/pipeforce.github.io/issues/new"},"click here to create a new issue"),". Another way to contribute is, to click ",(0,p.kt)("strong",{parentName:"p"},"Edit this page")," below and directly add your changes in GitHub. Many thanks for your contribution in order to improve PIPEFORCE!")))}d.isMDXComponent=!0},2636:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/grafik-20201022-181638-2ba8e80ecdb653cda5783ad44068cb82.png"}}]);